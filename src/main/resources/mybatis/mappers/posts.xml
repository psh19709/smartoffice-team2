<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.example.mapper.PostMapper">

	<select id="getPostSequence" resultType="int">
		select posts_seq.nextval
		from dual
	</select>
	
	<insert id="insertPost" parameterType="com.example.vo.post.Post">
		insert into posts
			(post_no, employee_no, post_title, post_content)
		values
			(#{no}, #{employeeNo}, #{title}, #{content})
	</insert>

	<insert id="insertTag" parameterType="com.example.vo.post.Tag">
		insert into post_tags
			(post_no, tag_content)
		values
			(#{postNo}, #{content})
	</insert>
	
	<insert id="insertAttachedFile" parameterType="com.example.vo.post.AttachedFile">
		insert into post_attached_files
			(file_no, post_no, post_filename)
		values
			(post_attached_files_seq.nextval, #{postNo}, #{filename})	
	</insert>

	
</mapper>